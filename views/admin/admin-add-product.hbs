<head>
  <link rel="stylesheet" href="/stylesheets/admin/admin-home.css">
</head>


<div class="dropdown bg-black pb-1">
  <button class="btn text-white dropdown-toggle  bg-black" type="button" data-bs-toggle="dropdown"
    aria-expanded="false">
    ADMIN
  </button>
  <ul class="dropdown-menu bg-black profile">
    <li><a class="dropdown-item" href="/admin">Home</a></li>
    <li><a class="dropdown-item" href="/admin/products">Products</a></li>
    <li><a class="dropdown-item" href="/admin/users">Customers</a></li>
    <li><a class="dropdown-item" href="/admin/orders">Orders</a></li>
    <li><a class="dropdown-item" href="/admin/coupons">Coupons</a></li>
    <li><a class="dropdown-item" href="/admin/banners">Banners</a></li>
  </ul>
  <span class="float-end"><a href="/admin/logout" title="logout"><img src="/images/user/logout.png" class="logout"
        alt=""></a></span>
</div>

<section>
  <div class="m-5  pt-0 mt-0">
    <h2 class="fw-bold">ADD PRODUCT</h2>
    <form class="row g-3" action="/admin/add-product" method="post" enctype="multipart/form-data">
      <div class="col-md-6">
        <label for="" class="form-label">Name</label>
        <input type="text" name="name" class="form-control" required>
        <label for="" class="form-label">Category</label>
        {{!-- <input type="text" name="category" class="form-control" required> --}}

        <select class="form-select" name="category" aria-label="Default select example" required>
          <option selected ></option>
          {{#each category}}
          <option value={{this._id}}>{{this.category}}</option>
          {{/each}}
        </select>

        <label for="" class="form-label">Description</label>
        <input type="text" name="description" class="form-control" required>
        <span id="wprice" class="text-danger bg-white rounded-3"></span>

        <label for="" class="form-label">Price</label>
        <input type="text" name="price" id="price" class="form-control w-50 m-0" required>
        <span id="wstock" class="text-danger bg-white rounded-3"></span>
        <label for="" class="form-label ">Stock</label>
        <input type="text" name="stock" id="stock" class="form-control w-50 m-0" required>
        <label for="" class="form-label">Image 1</label>
        <input type="file" accept=".jpg" name="image" class="form-control mb-1" required>
        <label for="" class="form-label">Image 2</label>
        <input type="file" accept=".jpg" name="image" class="form-control mb-1" required>
        <label for="" class="form-label">Image 3</label>
        <input type="file" accept=".jpg" name="image" class="form-control" required>
      </div>

      <div class="col-12">
        <button type="submit" onclick="return isValid()" class="btn btn-primary">Submit</button>
        <a href="/admin/products" class="btn btn-danger ms-auto">Cancel</a>
      </div>
    </form>
  </div>
</section>

<script>
  function isValid() {
    let stock = document.getElementById('stock').value.trim()
    let price = document.getElementById('price').value.trim()
    if (/^\d+$/.test(price)) {
      document.getElementById('wprice').innerHTML = ''
      if (/^\d+$/.test(stock)) {
        document.getElementById('wstock').innerHTML = ''
        return true;
      } else {
        document.getElementById('wstock').innerHTML = 'invalid'
      }
    } else {
      document.getElementById('wprice').innerHTML = 'invalid'
    }
    return false;
  }
</script>