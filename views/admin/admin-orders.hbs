<head>
    <link rel="stylesheet" href="/stylesheets/admin/admin-home.css">
</head>

<div class="dropdown bg-black pb-1">
    <button class="btn text-white dropdown-toggle  bg-black" type="button" data-bs-toggle="dropdown"
        aria-expanded="false">
        ADMIN
    </button>
    <ul class="dropdown-menu bg-black profile">
        <li><a class="dropdown-item" href="/admin">Home</a></li>
        <li><a class="dropdown-item" href="/admin/products">Products</a></li>
        <li><a class="dropdown-item" href="/admin/users">Customers</a></li>
        <li><a class="dropdown-item" href="/admin/orders">Orders</a></li>
        <li><a class="dropdown-item" href="/admin/coupons">Coupons</a></li>
        <li><a class="dropdown-item" href="/admin/banners">Banners</a></li>
    </ul>
    <span class="float-end"><a href="/admin/logout" title="logout"><img src="/images/user/logout.png" class="logout"
                alt=""></a></span>
</div>

<div class=" w-100 h-75 d-flex justify-content-center">

    <div class="mt-5  w-75 h-100">
        {{!-- <div class="search  w-100">
            <form action="/admin/get-order" method="get"
                class="w-100 d-flex justify-content-center align-items-center m-4">
                <input type="search" class="w-25 m-1 p-1 rounded-3" name="user">
                <button class="btn border-3 border-dark h-25" type="submit">Search</button>
            </form>
        </div> --}}
        <table class="table">
            <thead>
                <tr class="text-center">
                   
                    <th scope="col">User Mob.</th>
                    <th scope="col">Date</th>
                    <th scope="col">Total Amt.</th>
                    {{!-- <th scope="col">Orders</th> --}}
                    <th scope="col">Place</th>
                    <th scope="col">Status</th>
                    <th scope="col">Options</th>
                </tr>
            </thead>
            <tbody class="table-group-divider">
                {{#each orders}}
                <tr class="text-center">
                    
                    <td>{{this.userMobile}}</td>
                    <td>{{this.createdOn}}</td>
                    <td>{{this.total}}</td>
                    {{!-- <td>â‚¹{{this.orders}}</td> --}}
                    <td>{{this.address.street}}</td>
                    <td>
                        {{this.status}}
                    </td>
                    <td>
                        <a  onclick="deliCon({{@index}})" style="color: green;margin-right: 1.5rem;cursor: pointer;">Delivered</a>

                        
                        <a  onclick="canCon({{@index}})" style="color: red;cursor: pointer;">Cancelled</a>

                    </td>
                </tr>

                {{!-- delete --}}
                <div class="neumorphic-alert-box position-absolute px-5 del1" style="left: 35%;" >
                    <h1>Confirmation</h1>
                    <p>Are you delivered?</p>
                    <div class="neumorphic-alert-buttons">
                        <a href="/admin/deliver-order/{{this._id}}"><button class="neumorphic-alert-cancel-btn ">YES</button></a>
                        <a onclick="canConR1({{@index}})" ><button
                                class="neumorphic-alert-delete-btn">NO</button></a>
                    </div>
                </div>

                {{!-- delete --}}
                <div class="neumorphic-alert-box position-absolute px-5 del2" style="left: 35%;" >
                    <h1>Confirmation</h1>
                    <p>Are you Cancelling?</p>
                    <div class="neumorphic-alert-buttons">
                        <a href="/admin/cancel-order/{{this._id}}"><button class="neumorphic-alert-cancel-btn ">YES</button></a>
                        <a onclick="canConR({{@index}})" ><button
                                class="neumorphic-alert-delete-btn">NO</button></a>
                    </div>
                </div>
                {{/each}}
            </tbody>
        </table>
        <nav aria-label="Page navigation example" class="d-none d-lg-block">
            <ul class="pagination float-end">
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                    </a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            </ul>
        </nav>
    </div>
</div>

<style>
    .neumorphic-alert-box {
        background-color: #f2f2f2;
        border-radius: 10px;
        box-shadow:
            -10px -10px 20px rgba(255, 255, 255, 1),
            10px 10px 20px rgba(0, 0, 0, 0.2);
        padding: 20px;
        text-align: center;
        display: none;
    }

    .neumorphic-alert-buttons {
        display: flex;
        justify-content: center;
        margin-top: 20px;
    }

    .neumorphic-alert-cancel-btn {
        background-color: #f2f2f2;
        border: none;
        border-radius: 10px;
        box-shadow:
            -5px -5px 10px rgba(255, 255, 255, 1),
            5px 5px 10px rgba(0, 0, 0, 0.2);
        color: #666;
        cursor: pointer;
        font-size: 16px;
        padding: 10px 20px;
        margin-right: 10px;
    }

    .neumorphic-alert-delete-btn {
        background-color: #f44336;
        border: none;
        border-radius: 10px;
        box-shadow:
            -5px -5px 10px rgba(255, 255, 255, 1),
            5px 5px 10px rgba(0, 0, 0, 0.2);
        color: #fff;
        cursor: pointer;
        font-size: 16px;
        padding: 10px 20px;
    }

    .open-pop {
        display: block;
    }
</style>

<script>

    function canConR(i) {
        i=Number(i)
        let pop = document.getElementsByClassName('del2');
        pop[i].classList.remove('open-pop');
        return false;
    }
    function canConR1(i) {
        i=Number(i)
        let pop = document.getElementsByClassName('del1');
        pop[i].classList.remove('open-pop');
        return false;
    }
    function deliCon(i) {
        i=Number(i)
        let pop = document.getElementsByClassName('del1');
        pop[i].classList.add('open-pop');
        return false;
    }
    function canCon(i) {
        i=Number(i)
        let pop = document.getElementsByClassName('del2');
        pop[i].classList.add('open-pop');
        return false;
    }
</script>